{"sha":"1d10eee46b8d4144586669446c8711444f66863e","commit":{"author":{"name":"Magnus Ernstsson","email":"magnus@ernstsson.net","date":"2016-09-02T13:22:25Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2016-09-02T13:22:25Z"},"message":"Added explicit action filtering to BroadcastObservable (#104)","tree":{"sha":"2b0422c8fdd6ba228995734f77a875d2591674ff","url":"https://api.github.com/repos/google/agera/git/trees/2b0422c8fdd6ba228995734f77a875d2591674ff"},"url":"https://api.github.com/repos/google/agera/git/commits/1d10eee46b8d4144586669446c8711444f66863e","comment_count":0},"url":"https://api.github.com/repos/google/agera/commits/1d10eee46b8d4144586669446c8711444f66863e","html_url":"https://github.com/google/agera/commit/1d10eee46b8d4144586669446c8711444f66863e","comments_url":"https://api.github.com/repos/google/agera/commits/1d10eee46b8d4144586669446c8711444f66863e/comments","author":{"login":"ernstsson","id":378389,"avatar_url":"https://avatars2.githubusercontent.com/u/378389?v=3","gravatar_id":"","url":"https://api.github.com/users/ernstsson","html_url":"https://github.com/ernstsson","followers_url":"https://api.github.com/users/ernstsson/followers","following_url":"https://api.github.com/users/ernstsson/following{/other_user}","gists_url":"https://api.github.com/users/ernstsson/gists{/gist_id}","starred_url":"https://api.github.com/users/ernstsson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ernstsson/subscriptions","organizations_url":"https://api.github.com/users/ernstsson/orgs","repos_url":"https://api.github.com/users/ernstsson/repos","events_url":"https://api.github.com/users/ernstsson/events{/privacy}","received_events_url":"https://api.github.com/users/ernstsson/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"avatar_url":"https://avatars0.githubusercontent.com/u/19864447?v=3","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"a633144bf6fda77d3f1de8c923e0f9b68363e113","url":"https://api.github.com/repos/google/agera/commits/a633144bf6fda77d3f1de8c923e0f9b68363e113","html_url":"https://github.com/google/agera/commit/a633144bf6fda77d3f1de8c923e0f9b68363e113"}],"stats":{"total":12,"additions":7,"deletions":5},"files":[{"sha":"a7bc29311ac67df061d5b1ec4ee7df62c08180ad","filename":"extensions/content/src/main/java/com/google/android/agera/content/ContentObservables.java","status":"modified","additions":7,"deletions":5,"changes":12,"blob_url":"https://github.com/google/agera/blob/1d10eee46b8d4144586669446c8711444f66863e/extensions/content/src/main/java/com/google/android/agera/content/ContentObservables.java","raw_url":"https://github.com/google/agera/raw/1d10eee46b8d4144586669446c8711444f66863e/extensions/content/src/main/java/com/google/android/agera/content/ContentObservables.java","contents_url":"https://api.github.com/repos/google/agera/contents/extensions/content/src/main/java/com/google/android/agera/content/ContentObservables.java?ref=1d10eee46b8d4144586669446c8711444f66863e","patch":"@@ -82,16 +82,18 @@ public static Observable sharedPreferencesObservable(@NonNull final SharedPrefer\n     BroadcastObservable(@NonNull final Context applicationContext,\n         @NonNull final String... actions) {\n       this.context = checkNotNull(applicationContext);\n+      this.filter = new IntentFilter();\n+      for (final String action : actions) {\n+        this.filter.addAction(action);\n+      }\n       this.broadcastReceiver = new BroadcastReceiver() {\n         @Override\n         public void onReceive(final Context context, final Intent intent) {\n-          dispatchUpdate();\n+          if (filter.hasAction(intent.getAction())) {\n+            dispatchUpdate();\n+          }\n         }\n       };\n-      this.filter = new IntentFilter();\n-      for (final String action : actions) {\n-        this.filter.addAction(action);\n-      }\n     }\n \n     @Override"}]}