{"sha":"8c0cb91f15d6d0d4ec83ad6cc707abe76a802866","commit":{"author":{"name":"Magnus Ernstsson","email":"magnus@ernstsson.net","date":"2016-06-04T06:19:34Z"},"committer":{"name":"Magnus Ernstsson","email":"magnus@ernstsson.net","date":"2016-06-04T06:19:34Z"},"message":"Fixed a bug causing low pass filter not to work (#74)","tree":{"sha":"c54bef12df67be8d65ed67151bca7729f6db720a","url":"https://api.github.com/repos/google/agera/git/trees/c54bef12df67be8d65ed67151bca7729f6db720a"},"url":"https://api.github.com/repos/google/agera/git/commits/8c0cb91f15d6d0d4ec83ad6cc707abe76a802866","comment_count":0},"url":"https://api.github.com/repos/google/agera/commits/8c0cb91f15d6d0d4ec83ad6cc707abe76a802866","html_url":"https://github.com/google/agera/commit/8c0cb91f15d6d0d4ec83ad6cc707abe76a802866","comments_url":"https://api.github.com/repos/google/agera/commits/8c0cb91f15d6d0d4ec83ad6cc707abe76a802866/comments","author":{"login":"ernstsson","id":378389,"avatar_url":"https://avatars2.githubusercontent.com/u/378389?v=3","gravatar_id":"","url":"https://api.github.com/users/ernstsson","html_url":"https://github.com/ernstsson","followers_url":"https://api.github.com/users/ernstsson/followers","following_url":"https://api.github.com/users/ernstsson/following{/other_user}","gists_url":"https://api.github.com/users/ernstsson/gists{/gist_id}","starred_url":"https://api.github.com/users/ernstsson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ernstsson/subscriptions","organizations_url":"https://api.github.com/users/ernstsson/orgs","repos_url":"https://api.github.com/users/ernstsson/repos","events_url":"https://api.github.com/users/ernstsson/events{/privacy}","received_events_url":"https://api.github.com/users/ernstsson/received_events","type":"User","site_admin":false},"committer":{"login":"ernstsson","id":378389,"avatar_url":"https://avatars2.githubusercontent.com/u/378389?v=3","gravatar_id":"","url":"https://api.github.com/users/ernstsson","html_url":"https://github.com/ernstsson","followers_url":"https://api.github.com/users/ernstsson/followers","following_url":"https://api.github.com/users/ernstsson/following{/other_user}","gists_url":"https://api.github.com/users/ernstsson/gists{/gist_id}","starred_url":"https://api.github.com/users/ernstsson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ernstsson/subscriptions","organizations_url":"https://api.github.com/users/ernstsson/orgs","repos_url":"https://api.github.com/users/ernstsson/repos","events_url":"https://api.github.com/users/ernstsson/events{/privacy}","received_events_url":"https://api.github.com/users/ernstsson/received_events","type":"User","site_admin":false},"parents":[{"sha":"f9edc02371ac0655bba709a75c26ccac1574322d","url":"https://api.github.com/repos/google/agera/commits/f9edc02371ac0655bba709a75c26ccac1574322d","html_url":"https://github.com/google/agera/commit/f9edc02371ac0655bba709a75c26ccac1574322d"}],"stats":{"total":16,"additions":9,"deletions":7},"files":[{"sha":"9fce80de67245b583d1cdb63379c4373a1f9514d","filename":"agera/src/main/java/com/google/android/agera/BaseObservable.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/google/agera/blob/8c0cb91f15d6d0d4ec83ad6cc707abe76a802866/agera/src/main/java/com/google/android/agera/BaseObservable.java","raw_url":"https://github.com/google/agera/raw/8c0cb91f15d6d0d4ec83ad6cc707abe76a802866/agera/src/main/java/com/google/android/agera/BaseObservable.java","contents_url":"https://api.github.com/repos/google/agera/contents/agera/src/main/java/com/google/android/agera/BaseObservable.java?ref=8c0cb91f15d6d0d4ec83ad6cc707abe76a802866","patch":"@@ -45,7 +45,7 @@\n   private final WorkerHandler handler;\n   @NonNull\n   private final Object token = new Object();\n-  private final int shortestUpdateWindowMillis;\n+  final int shortestUpdateWindowMillis;\n   @NonNull\n   private Object[] updatablesAndHandlers;\n   private int size;"},{"sha":"0b64b59c24e3b89313047939d49146a62f202f49","filename":"agera/src/main/java/com/google/android/agera/Observables.java","status":"modified","additions":8,"deletions":6,"changes":14,"blob_url":"https://github.com/google/agera/blob/8c0cb91f15d6d0d4ec83ad6cc707abe76a802866/agera/src/main/java/com/google/android/agera/Observables.java","raw_url":"https://github.com/google/agera/raw/8c0cb91f15d6d0d4ec83ad6cc707abe76a802866/agera/src/main/java/com/google/android/agera/Observables.java","contents_url":"https://api.github.com/repos/google/agera/contents/agera/src/main/java/com/google/android/agera/Observables.java?ref=8c0cb91f15d6d0d4ec83ad6cc707abe76a802866","patch":"@@ -50,22 +50,24 @@ public static Observable compositeObservable(@NonNull final Observable... observ\n   static Observable compositeObservable(final int shortestUpdateWindowMillis,\n       @NonNull final Observable... observables) {\n     if (observables.length == 0) {\n-      return new CompositeObservable(0);\n+      return new CompositeObservable(shortestUpdateWindowMillis);\n     }\n \n     if (observables.length == 1) {\n       final Observable singleObservable = observables[0];\n-      if (singleObservable instanceof CompositeObservable) {\n-        return new CompositeObservable(0,\n+      if (singleObservable instanceof CompositeObservable\n+          && ((CompositeObservable) singleObservable).shortestUpdateWindowMillis == 0) {\n+        return new CompositeObservable(shortestUpdateWindowMillis,\n             ((CompositeObservable) singleObservable).observables);\n       } else {\n-        return new CompositeObservable(0, singleObservable);\n+        return new CompositeObservable(shortestUpdateWindowMillis, singleObservable);\n       }\n     }\n \n     final List<Observable> flattenedDedupedObservables = new ArrayList<>();\n     for (final Observable observable : observables) {\n-      if (observable instanceof CompositeObservable) {\n+      if (observable instanceof CompositeObservable\n+          && ((CompositeObservable) observable).shortestUpdateWindowMillis == 0) {\n         for (Observable subObservable : ((CompositeObservable) observable).observables) {\n           if (!flattenedDedupedObservables.contains(subObservable)) {\n             flattenedDedupedObservables.add(subObservable);\n@@ -77,7 +79,7 @@ static Observable compositeObservable(final int shortestUpdateWindowMillis,\n         }\n       }\n     }\n-    return new CompositeObservable(0,\n+    return new CompositeObservable(shortestUpdateWindowMillis,\n         flattenedDedupedObservables.toArray(new Observable[flattenedDedupedObservables.size()]));\n   }\n "}]}