{"sha":"f4829106af396e323f839bf4df8763da7e51cd0d","commit":{"author":{"name":"Magnus Ernstsson","email":"magnus@ernstsson.net","date":"2017-03-07T16:26:12Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2017-03-07T16:26:12Z"},"message":"Added nullBinder and nullReceiver (#147)","tree":{"sha":"15649bf72944b07decc8591af9508eefa186caaf","url":"https://api.github.com/repos/google/agera/git/trees/15649bf72944b07decc8591af9508eefa186caaf"},"url":"https://api.github.com/repos/google/agera/git/commits/f4829106af396e323f839bf4df8763da7e51cd0d","comment_count":0},"url":"https://api.github.com/repos/google/agera/commits/f4829106af396e323f839bf4df8763da7e51cd0d","html_url":"https://github.com/google/agera/commit/f4829106af396e323f839bf4df8763da7e51cd0d","comments_url":"https://api.github.com/repos/google/agera/commits/f4829106af396e323f839bf4df8763da7e51cd0d/comments","author":{"login":"ernstsson","id":378389,"avatar_url":"https://avatars2.githubusercontent.com/u/378389?v=3","gravatar_id":"","url":"https://api.github.com/users/ernstsson","html_url":"https://github.com/ernstsson","followers_url":"https://api.github.com/users/ernstsson/followers","following_url":"https://api.github.com/users/ernstsson/following{/other_user}","gists_url":"https://api.github.com/users/ernstsson/gists{/gist_id}","starred_url":"https://api.github.com/users/ernstsson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ernstsson/subscriptions","organizations_url":"https://api.github.com/users/ernstsson/orgs","repos_url":"https://api.github.com/users/ernstsson/repos","events_url":"https://api.github.com/users/ernstsson/events{/privacy}","received_events_url":"https://api.github.com/users/ernstsson/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"avatar_url":"https://avatars0.githubusercontent.com/u/19864447?v=3","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"b661e6be5997f5f7e1586b16d471030b1f08acf7","url":"https://api.github.com/repos/google/agera/commits/b661e6be5997f5f7e1586b16d471030b1f08acf7","html_url":"https://github.com/google/agera/commit/b661e6be5997f5f7e1586b16d471030b1f08acf7"}],"stats":{"total":170,"additions":157,"deletions":13},"files":[{"sha":"b0042a6b8a9b191fe3cbb419ef2ff7ecb2d2c2e8","filename":"agera/src/main/java/com/google/android/agera/Binders.java","status":"added","additions":37,"deletions":0,"changes":37,"blob_url":"https://github.com/google/agera/blob/f4829106af396e323f839bf4df8763da7e51cd0d/agera/src/main/java/com/google/android/agera/Binders.java","raw_url":"https://github.com/google/agera/raw/f4829106af396e323f839bf4df8763da7e51cd0d/agera/src/main/java/com/google/android/agera/Binders.java","contents_url":"https://api.github.com/repos/google/agera/contents/agera/src/main/java/com/google/android/agera/Binders.java?ref=f4829106af396e323f839bf4df8763da7e51cd0d","patch":"@@ -0,0 +1,37 @@\n+/*\n+ * Copyright 2016 Google Inc. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.google.android.agera;\n+\n+import static com.google.android.agera.Common.NULL_OPERATOR;\n+\n+import android.support.annotation.NonNull;\n+\n+/**\n+ * Utility methods for obtaining {@link Binder} instances.\n+ */\n+public final class Binders {\n+\n+  /**\n+   * Returns a {@link Binder} that does nothing.\n+   */\n+  @SuppressWarnings(\"unchecked\")\n+  @NonNull\n+  public static <TFirst, TSecond> Binder<TFirst, TSecond> nullBinder() {\n+    return NULL_OPERATOR;\n+  }\n+\n+  private Binders() {}\n+}"},{"sha":"f2dac920cb7b3a724eda2bb04d002695664cedfe","filename":"agera/src/main/java/com/google/android/agera/Common.java","status":"modified","additions":4,"deletions":1,"changes":5,"blob_url":"https://github.com/google/agera/blob/f4829106af396e323f839bf4df8763da7e51cd0d/agera/src/main/java/com/google/android/agera/Common.java","raw_url":"https://github.com/google/agera/raw/f4829106af396e323f839bf4df8763da7e51cd0d/agera/src/main/java/com/google/android/agera/Common.java","contents_url":"https://api.github.com/repos/google/agera/contents/agera/src/main/java/com/google/android/agera/Common.java?ref=f4829106af396e323f839bf4df8763da7e51cd0d","patch":"@@ -26,7 +26,7 @@\n   static final StaticCondicate TRUE_CONDICATE = new StaticCondicate(true);\n   static final StaticCondicate FALSE_CONDICATE = new StaticCondicate(false);\n \n-  private static final class NullOperator implements Function, Receiver {\n+  private static final class NullOperator implements Function, Receiver, Binder {\n     @NonNull\n     @Override\n     public Object apply(@NonNull final Object from) {\n@@ -35,6 +35,9 @@ public Object apply(@NonNull final Object from) {\n \n     @Override\n     public void accept(@NonNull final Object value) {}\n+\n+    @Override\n+    public void bind(@NonNull final Object o, @NonNull final Object o2) {}\n   }\n \n   private static final class StaticCondicate implements Condition, Predicate {"},{"sha":"e0ed111a5f4f110d77f54474b6dcc0aedf4c7832","filename":"agera/src/main/java/com/google/android/agera/Receivers.java","status":"added","additions":37,"deletions":0,"changes":37,"blob_url":"https://github.com/google/agera/blob/f4829106af396e323f839bf4df8763da7e51cd0d/agera/src/main/java/com/google/android/agera/Receivers.java","raw_url":"https://github.com/google/agera/raw/f4829106af396e323f839bf4df8763da7e51cd0d/agera/src/main/java/com/google/android/agera/Receivers.java","contents_url":"https://api.github.com/repos/google/agera/contents/agera/src/main/java/com/google/android/agera/Receivers.java?ref=f4829106af396e323f839bf4df8763da7e51cd0d","patch":"@@ -0,0 +1,37 @@\n+/*\n+ * Copyright 2016 Google Inc. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.google.android.agera;\n+\n+import static com.google.android.agera.Common.NULL_OPERATOR;\n+\n+import android.support.annotation.NonNull;\n+\n+/**\n+ * Utility methods for obtaining {@link Receiver} instances.\n+ */\n+public final class Receivers {\n+  \n+  /**\n+   * Returns a {@link Receiver} that does nothing.\n+   */\n+  @SuppressWarnings(\"unchecked\")\n+  @NonNull\n+  public static <T> Receiver<T> nullReceiver() {\n+    return NULL_OPERATOR;\n+  }\n+\n+  private Receivers() {}\n+}"},{"sha":"3747ffb4450c999dfaad9312618e9310b495081f","filename":"agera/src/test/java/com/google/android/agera/BindersTest.java","status":"added","additions":38,"deletions":0,"changes":38,"blob_url":"https://github.com/google/agera/blob/f4829106af396e323f839bf4df8763da7e51cd0d/agera/src/test/java/com/google/android/agera/BindersTest.java","raw_url":"https://github.com/google/agera/raw/f4829106af396e323f839bf4df8763da7e51cd0d/agera/src/test/java/com/google/android/agera/BindersTest.java","contents_url":"https://api.github.com/repos/google/agera/contents/agera/src/test/java/com/google/android/agera/BindersTest.java?ref=f4829106af396e323f839bf4df8763da7e51cd0d","patch":"@@ -0,0 +1,38 @@\n+/*\n+ * Copyright 2015 Google Inc. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.google.android.agera;\n+\n+import static com.google.android.agera.Binders.nullBinder;\n+import static com.google.android.agera.test.matchers.HasPrivateConstructor.hasPrivateConstructor;\n+import static org.hamcrest.MatcherAssert.assertThat;\n+\n+import org.junit.Test;\n+\n+public final class BindersTest {\n+  private static final int VALUE = 44;\n+  private static final int SECOND_VALUE = 43;\n+\n+  @Test\n+  public void shouldHandleCallsToNullBinder() {\n+    nullBinder().bind(VALUE, SECOND_VALUE);\n+  }\n+\n+  @Test\n+  public void shouldHavePrivateConstructor() {\n+    assertThat(Binders.class, hasPrivateConstructor());\n+  }\n+}\n+"},{"sha":"b5af77ed30121716b5cdf023761c044ef16e94a2","filename":"agera/src/test/java/com/google/android/agera/ReceiversTest.java","status":"added","additions":37,"deletions":0,"changes":37,"blob_url":"https://github.com/google/agera/blob/f4829106af396e323f839bf4df8763da7e51cd0d/agera/src/test/java/com/google/android/agera/ReceiversTest.java","raw_url":"https://github.com/google/agera/raw/f4829106af396e323f839bf4df8763da7e51cd0d/agera/src/test/java/com/google/android/agera/ReceiversTest.java","contents_url":"https://api.github.com/repos/google/agera/contents/agera/src/test/java/com/google/android/agera/ReceiversTest.java?ref=f4829106af396e323f839bf4df8763da7e51cd0d","patch":"@@ -0,0 +1,37 @@\n+/*\n+ * Copyright 2015 Google Inc. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.google.android.agera;\n+\n+import static com.google.android.agera.Receivers.nullReceiver;\n+import static com.google.android.agera.test.matchers.HasPrivateConstructor.hasPrivateConstructor;\n+import static org.hamcrest.MatcherAssert.assertThat;\n+\n+import org.junit.Test;\n+\n+public final class ReceiversTest {\n+  private static final int VALUE = 44;\n+\n+  @Test\n+  public void shouldHandleCallsToNullReceiver() {\n+    nullReceiver().accept(VALUE);\n+  }\n+\n+  @Test\n+  public void shouldHavePrivateConstructor() {\n+    assertThat(Receivers.class, hasPrivateConstructor());\n+  }\n+}\n+"},{"sha":"b8d4cc438bb4d6561f853aaf59926822a73f931a","filename":"extensions/rvadapter/src/main/java/com/google/android/agera/rvadapter/RepositoryPresenterCompiler.java","status":"modified","additions":4,"deletions":12,"changes":16,"blob_url":"https://github.com/google/agera/blob/f4829106af396e323f839bf4df8763da7e51cd0d/extensions/rvadapter/src/main/java/com/google/android/agera/rvadapter/RepositoryPresenterCompiler.java","raw_url":"https://github.com/google/agera/raw/f4829106af396e323f839bf4df8763da7e51cd0d/extensions/rvadapter/src/main/java/com/google/android/agera/rvadapter/RepositoryPresenterCompiler.java","contents_url":"https://api.github.com/repos/google/agera/contents/extensions/rvadapter/src/main/java/com/google/android/agera/rvadapter/RepositoryPresenterCompiler.java?ref=f4829106af396e323f839bf4df8763da7e51cd0d","patch":"@@ -15,8 +15,10 @@\n  */\n package com.google.android.agera.rvadapter;\n \n+import static com.google.android.agera.Binders.nullBinder;\n import static com.google.android.agera.Functions.staticFunction;\n import static com.google.android.agera.Preconditions.checkNotNull;\n+import static com.google.android.agera.Receivers.nullReceiver;\n \n import android.support.annotation.LayoutRes;\n import android.support.annotation.NonNull;\n@@ -32,13 +34,11 @@\n \n @SuppressWarnings({\"unchecked, rawtypes\"})\n final class RepositoryPresenterCompiler implements RPLayout, RPViewBinderRecycleStableIdCompile {\n-  @NonNull\n-  private static final NullHandler NULL_HANDLER = new NullHandler();\n   private Function<Object, Integer> layoutForItem;\n   @NonNull\n-  private Binder binder = NULL_HANDLER;\n+  private Binder binder = nullBinder();\n   @NonNull\n-  private Receiver recycler = NULL_HANDLER;\n+  private Receiver recycler = nullReceiver();\n   @NonNull\n   private Function<Object, Long> stableIdForItem = staticFunction(RecyclerView.NO_ID);\n \n@@ -101,14 +101,6 @@ public Object recycleWith(@NonNull final Receiver recycler) {\n     return this;\n   }\n \n-  private static final class NullHandler implements Binder, Receiver {\n-    @Override\n-    public void bind(@NonNull Object o, @NonNull Object o2) {}\n-\n-    @Override\n-    public void accept(@NonNull final Object o) {}\n-  }\n-\n   private abstract static class BasicRepositoryPresenter<TVal, T>\n       extends RepositoryPresenter<T> {\n     @NonNull"}]}