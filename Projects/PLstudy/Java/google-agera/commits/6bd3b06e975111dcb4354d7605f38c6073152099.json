{"sha":"6bd3b06e975111dcb4354d7605f38c6073152099","commit":{"author":{"name":"Magnus Ernstsson","email":"magnus@ernstsson.net","date":"2016-12-17T15:31:54Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2016-12-17T15:31:54Z"},"message":"Moved testapp strict mode config to Application (#123)","tree":{"sha":"31d3a72225ab57c6ff9d4b1979a87146062a67ee","url":"https://api.github.com/repos/google/agera/git/trees/31d3a72225ab57c6ff9d4b1979a87146062a67ee"},"url":"https://api.github.com/repos/google/agera/git/commits/6bd3b06e975111dcb4354d7605f38c6073152099","comment_count":0},"url":"https://api.github.com/repos/google/agera/commits/6bd3b06e975111dcb4354d7605f38c6073152099","html_url":"https://github.com/google/agera/commit/6bd3b06e975111dcb4354d7605f38c6073152099","comments_url":"https://api.github.com/repos/google/agera/commits/6bd3b06e975111dcb4354d7605f38c6073152099/comments","author":{"login":"ernstsson","id":378389,"avatar_url":"https://avatars2.githubusercontent.com/u/378389?v=3","gravatar_id":"","url":"https://api.github.com/users/ernstsson","html_url":"https://github.com/ernstsson","followers_url":"https://api.github.com/users/ernstsson/followers","following_url":"https://api.github.com/users/ernstsson/following{/other_user}","gists_url":"https://api.github.com/users/ernstsson/gists{/gist_id}","starred_url":"https://api.github.com/users/ernstsson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ernstsson/subscriptions","organizations_url":"https://api.github.com/users/ernstsson/orgs","repos_url":"https://api.github.com/users/ernstsson/repos","events_url":"https://api.github.com/users/ernstsson/events{/privacy}","received_events_url":"https://api.github.com/users/ernstsson/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"avatar_url":"https://avatars0.githubusercontent.com/u/19864447?v=3","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"ca5c8825960534050a785125fcdb56839c0b69f9","url":"https://api.github.com/repos/google/agera/commits/ca5c8825960534050a785125fcdb56839c0b69f9","html_url":"https://github.com/google/agera/commit/ca5c8825960534050a785125fcdb56839c0b69f9"}],"stats":{"total":25,"additions":19,"deletions":6},"files":[{"sha":"31a4838ce15e6c363bff347df65ba8ee15794cff","filename":"testapp/src/main/AndroidManifest.xml","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/google/agera/blob/6bd3b06e975111dcb4354d7605f38c6073152099/testapp/src/main/AndroidManifest.xml","raw_url":"https://github.com/google/agera/raw/6bd3b06e975111dcb4354d7605f38c6073152099/testapp/src/main/AndroidManifest.xml","contents_url":"https://api.github.com/repos/google/agera/contents/testapp/src/main/AndroidManifest.xml?ref=6bd3b06e975111dcb4354d7605f38c6073152099","patch":"@@ -17,8 +17,8 @@\n <manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n     package=\"com.google.android.agera.testapp\">\n   <uses-permission android:name=\"android.permission.INTERNET\" />\n-  <application>\n-    <activity android:name=\"com.google.android.agera.testapp.NotesActivity\"\n+  <application android:name=\".NotesApplication\">\n+    <activity android:name=\".NotesActivity\"\n         android:label=\"@string/agera\"\n         android:theme=\"@style/Theme.Note\">\n       <intent-filter>"},{"sha":"30b6740d545dc4e96e687b2a105543beeee7c9eb","filename":"testapp/src/main/java/com/google/android/agera/testapp/NotesActivity.java","status":"modified","additions":0,"deletions":4,"changes":4,"blob_url":"https://github.com/google/agera/blob/6bd3b06e975111dcb4354d7605f38c6073152099/testapp/src/main/java/com/google/android/agera/testapp/NotesActivity.java","raw_url":"https://github.com/google/agera/raw/6bd3b06e975111dcb4354d7605f38c6073152099/testapp/src/main/java/com/google/android/agera/testapp/NotesActivity.java","contents_url":"https://api.github.com/repos/google/agera/contents/testapp/src/main/java/com/google/android/agera/testapp/NotesActivity.java?ref=6bd3b06e975111dcb4354d7605f38c6073152099","patch":"@@ -62,10 +62,6 @@ protected void onCreate(final Bundle savedInstanceState) {\n     super.onCreate(savedInstanceState);\n     setContentView(R.layout.notes_activity);\n \n-    // Setup strict mode, no violations using Agera\n-    setThreadPolicy(new ThreadPolicy.Builder().detectAll().penaltyLog().build());\n-    setVmPolicy(new VmPolicy.Builder().detectAll().penaltyLog().build());\n-\n     // Create the notes store, containing all async IO\n     final NotesStore notesStore = notesStore(getApplicationContext());\n "},{"sha":"8fdd1fe896f93698bcd20beddb65585000670eac","filename":"testapp/src/main/java/com/google/android/agera/testapp/NotesApplication.java","status":"added","additions":17,"deletions":0,"changes":17,"blob_url":"https://github.com/google/agera/blob/6bd3b06e975111dcb4354d7605f38c6073152099/testapp/src/main/java/com/google/android/agera/testapp/NotesApplication.java","raw_url":"https://github.com/google/agera/raw/6bd3b06e975111dcb4354d7605f38c6073152099/testapp/src/main/java/com/google/android/agera/testapp/NotesApplication.java","contents_url":"https://api.github.com/repos/google/agera/contents/testapp/src/main/java/com/google/android/agera/testapp/NotesApplication.java?ref=6bd3b06e975111dcb4354d7605f38c6073152099","patch":"@@ -0,0 +1,17 @@\n+package com.google.android.agera.testapp;\n+\n+import static android.os.StrictMode.setThreadPolicy;\n+import static android.os.StrictMode.setVmPolicy;\n+\n+import android.app.Application;\n+import android.os.StrictMode.ThreadPolicy;\n+import android.os.StrictMode.VmPolicy;\n+\n+public final class NotesApplication extends Application {\n+  @Override\n+  public void onCreate() {\n+    super.onCreate();\n+    setThreadPolicy(new ThreadPolicy.Builder().detectAll().penaltyLog().build());\n+    setVmPolicy(new VmPolicy.Builder().detectAll().penaltyLog().build());\n+  }\n+}"}]}